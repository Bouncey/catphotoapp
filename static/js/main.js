"use strict";function identTitle(t){return t.replace(/\s+/g,"")}function noop(){}function getStorage(t){local?all=local:(remote.cats.forEach(function(t){initLocal=Lockr.sadd("cats",t)}),all=initLocal,location.reload()),t()}function drawPage(){all.forEach(function(t){showData(t)})}function showData(t){count++,count%3===1?$(".results").append('<div class="row">'+writeHTML(t)+"</div>"):$(".results > .row:last").append(writeHTML(t)),$(".materialboxed").materialbox()}function addLocal(t){function a(t){for(var a={id:identTitle($("#title").val()),title:$("#title").val(),url:t,tags:e,likes:1},i=[],l=0;l<all.length;l++)i.push(all[l].id);return i.indexOf(a.id)!==-1?$("#title").addClass("validate invalid"):($("#title").removeClass("validate invalid"),void addVaildCat(a))}t.preventDefault();var i=$("#url").val(),l=$("#tags").val(),e=l.split(",");return i.match(/(jpg|png|gif)$/i)&&i.match(/^http/)?($("#url").removeClass("invalid"),void a(i)):$("#url").addClass("invalid")}function addVaildCat(t){Lockr.sadd("cats",t,{Object:Object}),$("#addCatModal").closeModal()}function writeHTML(t){var a="";a+='<div class="col s3 m4 s12"><div class="card '+t.id+'">',a+='<div class="card-image">',a+='<img class="materialboxed" src="'+t.url+'" />',a+='</div><div class="card-content">',a+="<h5>"+t.title+"</h5>";for(var i=0;i<t.tags.length;i++)a+='<span class="chip blue darken-2">'+t.tags[i]+"</span>";return a+="</div>",a+='<div class="card-action">',a+='<button id="'+t.id+('" class="waves-effect waves-light waves-blue blue darken-3 btn like"><i class="fa fa-thumbs-up"></i> <span class="likes_number">'+t.likes+"</span></button>"),a+="</div>",a+="</div></div>"}function incrementLikes(t){for(var a=parseInt(t.children(".likes_number").text())+1,i=0;i<all.length;i++)all[i].id===t.attr("id")&&(all[i].likes=a,$(".results").empty().append(drawPage()))}var count=0,remote={cats:[{id:"CamperCat",likes:34,tags:["Coding","Guru","Ninja"],title:"Camper Cat",url:"https://media.giphy.com/media/o0vwzuFwCGAFO/giphy.gif"},{id:"Cat-in-a-hat",likes:38,tags:["Cute","Hat","Standing"],title:"Cat-in-a-hat",url:"https://s-media-cache-ak0.pinimg.com/564x/27/df/cc/27dfcc17a8cefe56c99277d63be0d815.jpg"},{id:"FluffBall",likes:2,tags:["Fluffy","No-legs","Ball","Flying"],title:"Fluff Ball",url:"http://www.top13.net/wp-content/uploads/2015/10/perfectly-timed-funny-cat-pictures-5.jpg"},{id:"GrumpyCat",likes:5,tags:["Grumpy","Funny","Famous"],title:"Grumpy Cat",url:"http://i.dailymail.co.uk/i/pix/2014/08/05/1407225932091_wps_6_SANTA_MONICA_CA_AUGUST_04.jpg"},{id:"HappyCat",likes:100,tags:["Happy","Winking","Smiling"],title:"Happy Cat",url:"https://pbs.twimg.com/profile_images/2167035896/123cat_400x400.jpg"},{id:"LaughingCat",likes:1,tags:["laughing","Funny","Snicker"],title:"Laughing Cat",url:"http://blog.nekoflies.com/wp-content/uploads/2014/01/funny-cat.jpg"},{id:"ScaredyCat",likes:2,tags:["Hiding","Cute","Scared"],title:"Scaredy Cat ",url:"https://i.ytimg.com/vi/MG8KADiRbOU/maxresdefault.jpg"},{id:"ShockedCat",likes:1,tags:["What is THAT!?","Shocked","Funny"],title:"Shocked Cat",url:"https://i.ytimg.com/vi/icqDxNab3Do/maxresdefault.jpg"},{id:"SleepingCat",likes:2,tags:["Sleeping","Cute","Kitten"],title:"Sleeping Cat",url:"http://www.acuteaday.com/blog/wp-content/uploads/2012/09/sleeping-kitty-cat.jpg"}]},local=Lockr.get("cats"),initLocal,all;$("form").on("submit",function(t){addLocal(t)}),$(document).ready(function(){getStorage(drawPage),$(".button-collapse").sideNav(),$(".modal-trigger").leanModal(),$("select").material_select(),$("#flush").click(function(){Lockr.flush()}),$(".like").on("click",function(){incrementLikes($(this))})});