"use strict";function identTitle(t){return t.replace(/\s+/g,"")}function drawPage(){all.forEach(function(t){showData(t)})}function showData(t){count++,count%3===1?$(".results").append('<div class="row">'+writeHTML(t)+"</div>"):$(".results > .row:last").append(writeHTML(t)),$(".materialboxed").materialbox()}function addLocal(t){function a(t){var a={id:identTitle($("#title").val()),title:$("#title").val(),url:t,location:$('input[name="location"]:checked').val(),tags:l,likes:1};Lockr.sadd("cats",a),$(".results").empty().append(drawPage()),$("#addCatModal").closeModal(),$("form").reset()}t.preventDefault();var i=$("#url").val(),e=$("#tags").val(),l=e.split(",");return i.match(/(jpg|png|gif)$/i)&&i.match(/^http/)?void a(i):alert("Please supply a URL which leads directly to a GIF, JPG or PNG file for upload.")}function writeHTML(t){var a="";a+='<div class="col s3 m4 s12"><div class="card '+t.id+'">',a+='<div class="card-image">',a+='<img class="materialboxed" src="'+t.url+'" />',a+='<span class="card-title">'+t.title+"</span>",a+='</div><div class="card-content">',a+="<p>Location: "+t.location+"</p>",a+="<p>Tags:</p>";for(var i=0;i<t.tags.length;i++)a+='<span class="chip blue darken-2">'+t.tags[i]+"</span>";return a+="</div>",a+='<div class="card-action">',a+='<button id="'+t.id+('" class="waves-effect waves-light waves-blue blue darken-3 btn like"><i class="fa fa-thumbs-up"></i> <span class="likes_number">'+t.likes+"</span></button>"),a+="</div>",a+="</div></div>"}var count=0,remote={cats:[{id:"CamperCat",likes:34,location:"Indoor",tags:["Coding","Guru","Ninja"],title:"Camper Cat",url:"https://media.giphy.com/media/o0vwzuFwCGAFO/giphy.gif"},{id:"Cat-in-a-hat",likes:38,location:"Indoor",tags:["Cute","Hat","Standing"],title:"Cat-in-a-hat",url:"https://s-media-cache-ak0.pinimg.com/564x/27/df/cc/27dfcc17a8cefe56c99277d63be0d815.jpg"},{id:"FluffBall",likes:2,location:"Outdoor",tags:["Fluffy","No-legs","Ball","Flying"],title:"Fluff Ball",url:"http://www.top13.net/wp-content/uploads/2015/10/perfectly-timed-funny-cat-pictures-5.jpg"},{id:"GrumpyCat",likes:5,location:"Indoor",tags:["Grumpy","Funny","Famous"],title:"Grumpy Cat",url:"http://i.dailymail.co.uk/i/pix/2014/08/05/1407225932091_wps_6_SANTA_MONICA_CA_AUGUST_04.jpg"},{id:"HappyCat",likes:100,location:"Outdoor",tags:["Happy","Winking","Smiling"],title:"Happy Cat",url:"https://pbs.twimg.com/profile_images/2167035896/123cat_400x400.jpg"},{id:"LaughingCat",likes:1,location:"Indoor",tags:["laughing","Funny","Snicker"],title:"Laughing Cat",url:"http://blog.nekoflies.com/wp-content/uploads/2014/01/funny-cat.jpg"},{id:"ScaredyCat",likes:2,location:"Indoor",tags:["Hiding","Cute","Scared"],title:"Scaredy Cat ",url:"https://i.ytimg.com/vi/MG8KADiRbOU/maxresdefault.jpg"},{id:"ShockedCat",likes:1,location:"Indoor",tags:["What is THAT!?","Shocked","Funny"],title:"Shocked Cat",url:"https://i.ytimg.com/vi/icqDxNab3Do/maxresdefault.jpg"},{id:"SleepingCat",likes:2,location:"Indoor",tags:["Sleeping","Cute","Kitten"],title:"Sleeping Cat",url:"http://www.acuteaday.com/blog/wp-content/uploads/2012/09/sleeping-kitty-cat.jpg"}]},local=Lockr.get("cats"),all;all=local?local.concat(remote.cats):remote.cats,$("form").on("submit",function(t){addLocal(t)}),$(document).ready(function(){drawPage(),$(".button-collapse").sideNav(),$(".modal-trigger").leanModal(),$("select").material_select(),$(".like").on("click",function(){for(var t=0;t<all.length;t++)if(all[t].id===$(this).attr("id"))return all[t].likes=parseInt($(this).children(".likes_number").text())+1,$(".results").empty().append(drawPage())})});